#include <stdio.h>

#define ROWS 4
#define COLS 3

void gameOfLife(int board[ROWS][COLS]) {
    int copy[ROWS][COLS];

    // Step 1: Copy the original board
    for (int i = 0; i < ROWS; i++)
        for (int j = 0; j < COLS; j++)
            copy[i][j] = board[i][j];

    // Directions for 8 neighbors
    int dirs[8][2] = {{-1,-1},{-1,0},{-1,1},
                      {0,-1},        {0,1},
                      {1,-1},{1,0},{1,1}};

    // Step 2: Apply rules
    for (int i = 0; i < ROWS; i++) {
        for (int j = 0; j < COLS; j++) {
            int liveNeighbors = 0;

            // Count live neighbors
            for (int d = 0; d < 8; d++) {
                int ni = i + dirs[d][0];
                int nj = j + dirs[d][1];
                if (ni >= 0 && ni < ROWS && nj >= 0 && nj < COLS)
                    liveNeighbors += copy[ni][nj];
            }

            // Apply the four rules
            if (copy[i][j] == 1) {
                if (liveNeighbors < 2 || liveNeighbors > 3)
                    board[i][j] = 0; // dies
            } else {
                if (liveNeighbors == 3)
                    board[i][j] = 1; // becomes alive
            }
        }
    }
}

// Function to print the board
void printBoard(int board[ROWS][COLS]) {
    for (int i = 0; i < ROWS; i++) {
        for (int j = 0; j < COLS; j++)
            printf("%d ", board[i][j]);
        printf("\n");
    }
    printf("\n");
}

int main() {
    int board1[ROWS][COLS] = {
        {0,1,0},
        {0,0,1},
        {1,1,1},
        {0,0,0}
    };

    printf("Input:\n");
    printBoard(board1);

    gameOfLife(board1);

    printf("Next State:\n");
    printBoard(board1);

    return 0;
}
